## 汇编语言

### linux安装nasm环境

> 1. sudo apt-get install nasm
>
> 2. 创建.asm文件	
>
> 3. 64位
>
>    nasm -f elf64 -g -F stabs helloworld.asm -o helloworld.o // 编译
>
>    ld -o helloworld helloworld.o // 链接
>
>    32位
>
>    nasm -f elf -g -F stabs helloworld.asm -o helloworld.o
>
>    ld -m elf_i386 -o helloworld helloworld.o
>
> 4. 运行./hello

### 寄存器概述

> 8086cpu有14个寄存器，它们的名称为：ax、bx、cx、dx、si、di、sp、bp、ip、cs、ss、ds、es、psw
>
> - 通用寄存器
>
>   8086cpu所有的寄存器都是16位的，可以存放两个字节
>
> 数据18
> 二进制表示10010
> 在寄存器ax中存储：
>
> | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
> | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
> | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 0    | 1    | 0    |
>
> 一个16位寄存器能存储的最大的数值：2^16-1
>
> 8086上一代的cpu中的寄存器都是8位的，为保证兼容性，这四个寄存器都可以分为两个独立8位的寄存器使用
>
> ax可以分为ah和al
> bx可以分为bh和bl
> cx可以分为ch和cl
> dx可以分为dh和dl

### 几条汇编指令

> | 汇编指令   | 控制cpu完成的操作                  | 用高级语言的语法描述 |
> | ---------- | ---------------------------------- | -------------------- |
> | mov ax, 18 | 将18送入ax                         | ax = 18              |
> | mav ah, 78 | 将78送入ah                         | ah = 78              |
> | add ax, 8  | 将寄存器ax中的数值+8               | ax = ax + 8          |
> | mov ax, bx | 将寄存器bx中的数据送入ax寄存器     | ax = bx              |
> | add ax, bx | 将ax, bx中的内存相加，结果存在ax中 | ax = ax + bx         |
>
> add ax, bx // ax = 8226h, bx = 8226h
> ax = 044ch // 结果应该是1044ch，但一个寄存器只能存16位数据，所以这个1被进位了
>
> 





